{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Domas\\\\Desktop\\\\5 semestras\\\\Brewtiful\\\\frontend\\\\src\\\\pages\\\\Items.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport api from \"../axiosInstance\";\nimport monitorToken from \"./monitorToken\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Items() {\n  _s();\n  const [profile, setProfile] = useState(null);\n  const [items, setItems] = useState([]);\n  const [newItem, setNewItem] = useState({\n    name: \"\",\n    price: \"\",\n    categoryId: \"\",\n    ingredientIds: [],\n    picture: null // For picture upload\n  });\n  const [categories, setCategories] = useState([]);\n  const [ingredients, setIngredients] = useState([]);\n  const location = useLocation();\n  useEffect(() => {\n    monitorToken();\n    const fetchData = async () => {\n      try {\n        // Fetch user profile\n        const {\n          data: profileData\n        } = await api.get(\"/auth/profile\", {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        });\n        setProfile(profileData);\n\n        // Fetch items and initialize edited fields and success state\n        const {\n          data: itemsData\n        } = await api.get(\"/Item\", {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        });\n        const itemsWithExtras = itemsData.map(item => ({\n          ...item,\n          editedName: item.name,\n          editedPrice: item.price,\n          editedCategoryId: item.categoryId,\n          editedIngredientIds: Array.isArray(item.ingredientIds) ? item.ingredientIds.map(id => Number(id)) : [],\n          pictureUrl: item.pictureUrl || \"\",\n          editedPicture: null,\n          success: false\n        }));\n        console.log(\"Initialized Items with Extras:\", itemsWithExtras); // Debugging\n        setItems(itemsWithExtras);\n\n        // Fetch categories\n        const {\n          data: categoriesData\n        } = await api.get(\"/Category\", {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        });\n        setCategories(categoriesData);\n\n        // Fetch ingredients\n        const {\n          data: ingredientsData\n        } = await api.get(\"/Ingredient\", {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        });\n        setIngredients(ingredientsData);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // Handle changes to new item fields\n  const handleNewItemChange = (field, value) => {\n    setNewItem(prevItem => ({\n      ...prevItem,\n      [field]: value\n    }));\n  };\n\n  // Handle adding/removing ingredients for new item\n  const handleNewItemIngredientChange = ingredientId => {\n    setNewItem(prevItem => {\n      const ingredientIds = prevItem.ingredientIds.includes(ingredientId) ? prevItem.ingredientIds.filter(id => id !== ingredientId) : [...prevItem.ingredientIds, ingredientId];\n      return {\n        ...prevItem,\n        ingredientIds\n      };\n    });\n  };\n\n  // Handle creating a new item\n  const handleCreateItem = async e => {\n    e.preventDefault();\n\n    // Validate new item fields\n    if (!newItem.name.trim()) {\n      alert(\"Please enter an item name.\");\n      return;\n    }\n    if (!newItem.price || isNaN(newItem.price) || Number(newItem.price) <= 0) {\n      alert(\"Please enter a valid price.\");\n      return;\n    }\n    if (!newItem.categoryId) {\n      alert(\"Please select a category.\");\n      return;\n    }\n    try {\n      const formData = new FormData();\n      formData.append(\"name\", newItem.name);\n      formData.append(\"price\", newItem.price);\n      formData.append(\"categoryId\", newItem.categoryId);\n      newItem.ingredientIds.forEach(id => formData.append(\"ingredientIds\", id));\n      if (newItem.picture) {\n        formData.append(\"picture\", newItem.picture);\n      }\n\n      // Send POST request to create item\n      await api.post(\"/Item\", formData, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          // \"Content-Type\" is handled automatically by the browser\n        }\n      });\n\n      // Fetch updated items list and initialize edited fields and success state\n      const {\n        data: itemsData\n      } = await api.get(\"/Item\", {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      const itemsWithExtras = itemsData.map(item => ({\n        ...item,\n        editedName: item.name,\n        editedPrice: item.price,\n        editedCategoryId: item.categoryId,\n        editedIngredientIds: Array.isArray(item.ingredientIds) ? item.ingredientIds.map(id => Number(id)) : [],\n        pictureUrl: item.pictureUrl || \"\",\n        editedPicture: null,\n        success: false\n      }));\n      console.log(\"Fetched Updated Items:\", itemsWithExtras); // Debugging\n      setItems(itemsWithExtras);\n\n      // Clear new item fields\n      setNewItem({\n        name: \"\",\n        price: \"\",\n        categoryId: \"\",\n        ingredientIds: [],\n        picture: null\n      });\n      alert(\"Item created successfully.\");\n    } catch (error) {\n      console.error(\"Error creating item:\", error);\n      if (error.response && error.response.data && error.response.data.detail) {\n        alert(`Error: ${error.response.data.detail}`);\n      } else if (error.response && error.response.data) {\n        alert(`Error: ${JSON.stringify(error.response.data)}`);\n      } else if (error.message) {\n        alert(`Error: ${error.message}`);\n      } else {\n        alert(\"An unexpected error occurred while creating the item.\");\n      }\n    }\n  };\n\n  // Handle changes to existing items\n  const handleItemChange = (itemId, field, value) => {\n    setItems(prevItems => prevItems.map(item => item.id === itemId ? {\n      ...item,\n      [field]: value\n    } : item));\n  };\n\n  // Handle adding/removing ingredients for existing items\n  const handleItemIngredientChange = (itemId, event) => {\n    const ingredientId = Number(event.target.value);\n    const isChecked = event.target.checked;\n    setItems(prevItems => prevItems.map(item => {\n      if (item.id === itemId) {\n        let updatedIngredientIds;\n        if (isChecked) {\n          // Add ingredient if not already present\n          if (!item.editedIngredientIds.includes(ingredientId)) {\n            updatedIngredientIds = [...item.editedIngredientIds, ingredientId];\n          } else {\n            updatedIngredientIds = item.editedIngredientIds;\n          }\n        } else {\n          // Remove ingredient if present\n          updatedIngredientIds = item.editedIngredientIds.filter(id => id !== ingredientId);\n        }\n        console.log(`Updated ingredient IDs for item ${itemId}:`, updatedIngredientIds); // Debugging\n\n        return {\n          ...item,\n          editedIngredientIds: updatedIngredientIds\n        };\n      }\n      return item;\n    }));\n  };\n\n  // Handle updating an existing item\n  const handleUpdateItem = async id => {\n    const item = items.find(item => item.id === id);\n    if (!item) {\n      alert(\"Item not found.\");\n      return;\n    }\n\n    // Validate item fields\n    if (!item.editedName.trim()) {\n      alert(\"Item name cannot be empty.\");\n      return;\n    }\n    if (!item.editedPrice || isNaN(item.editedPrice) || Number(item.editedPrice) <= 0) {\n      alert(\"Please enter a valid price.\");\n      return;\n    }\n    if (!item.editedCategoryId) {\n      alert(\"Please select a category.\");\n      return;\n    }\n    try {\n      const formData = new FormData();\n      formData.append(\"name\", item.editedName);\n      formData.append(\"price\", item.editedPrice);\n      formData.append(\"categoryId\", item.editedCategoryId);\n      item.editedIngredientIds.forEach(id => formData.append(\"ingredientIds\", id));\n      if (item.editedPicture) {\n        formData.append(\"picture\", item.editedPicture);\n      }\n\n      // Send PUT request to update item\n      await api.put(`/Item/${id}`, formData, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          // \"Content-Type\" is handled automatically by the browser\n        }\n      });\n\n      // Update the item in the state and set success to true\n      setItems(prevItems => prevItems.map(itm => itm.id === id ? {\n        ...itm,\n        name: itm.editedName,\n        price: itm.editedPrice,\n        categoryId: itm.editedCategoryId,\n        ingredientIds: itm.editedIngredientIds,\n        pictureUrl: itm.editedPicture ? `${itm.pictureUrl}?timestamp=${new Date().getTime()}` : itm.pictureUrl,\n        editedPicture: null,\n        success: true\n      } : itm));\n\n      // Clear the success message after 3 seconds\n      setTimeout(() => {\n        setItems(prevItems => prevItems.map(itm => itm.id === id ? {\n          ...itm,\n          success: false\n        } : itm));\n      }, 3000);\n    } catch (error) {\n      console.error(\"Error updating item:\", error);\n      if (error.response && error.response.data && error.response.data.detail) {\n        alert(`Error: ${error.response.data.detail}`);\n      } else if (error.response && error.response.data) {\n        alert(`Error: ${JSON.stringify(error.response.data)}`);\n      } else if (error.message) {\n        alert(`Error: ${error.message}`);\n      } else {\n        alert(\"An unexpected error occurred while updating the item.\");\n      }\n    }\n  };\n\n  // Handle deleting an item\n  const handleDeleteItem = async id => {\n    if (!window.confirm(\"Are you sure you want to delete this item?\")) {\n      return;\n    }\n    try {\n      await api.delete(`/Item/${id}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n\n      // Remove the deleted item from the state\n      setItems(prevItems => prevItems.filter(item => item.id !== id));\n      alert(\"Item deleted successfully.\");\n    } catch (error) {\n      console.error(\"Error deleting item:\", error);\n      if (error.response && error.response.data && error.response.data.detail) {\n        alert(`Error: ${error.response.data.detail}`);\n      } else if (error.response && error.response.data) {\n        alert(`Error: ${JSON.stringify(error.response.data)}`);\n      } else if (error.message) {\n        alert(`Error: ${error.message}`);\n      } else {\n        alert(\"An unexpected error occurred while deleting the item.\");\n      }\n    }\n  };\n  if (!profile) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 333,\n    columnNumber: 24\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"mt-8 max-w-7xl mx-auto\",\n    children: [profile.role === \"Admin\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex mx-auto items-center justify-center gap-2 my-4 tabs\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        className: location.pathname === \"/profile\" ? \"active\" : \"\",\n        to: \"/profile\",\n        children: \"Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: location.pathname === \"/categories\" ? \"active\" : \"\",\n        to: \"/categories\",\n        children: \"Categories\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: location.pathname === \"/items\" ? \"active\" : \"\",\n        to: \"/items\",\n        children: \"Items\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: location.pathname === \"/ingredients\" ? \"active\" : \"\",\n        to: \"/ingredients\",\n        children: \"Ingredients\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: location.pathname === \"/users\" ? \"active\" : \"\",\n        to: \"/users\",\n        children: \"Users\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"mt-8 w-1/2 mx-auto new-item-form\",\n      onSubmit: handleCreateItem,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center text-primary text-4xl mb-4\",\n        children: \"Create New Item\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"info\",\n            children: \"Item Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: newItem.name,\n            onChange: e => handleNewItemChange(\"name\", e.target.value),\n            className: \"w-full mt-1 p-2 border rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"info\",\n            children: \"Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            step: \"0.01\",\n            value: newItem.price,\n            onChange: e => handleNewItemChange(\"price\", e.target.value),\n            className: \"w-full mt-1 p-2 border rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"info\",\n            children: \"Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: newItem.categoryId,\n            onChange: e => handleNewItemChange(\"categoryId\", Number(e.target.value)) // Ensure it's a number\n            ,\n            className: \"w-full mt-1 p-2 border rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this), categories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: Number(category.id),\n              children: category.name\n            }, category.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"info\",\n            children: \"Ingredients\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-2\",\n            children: ingredients.map(ingredient => /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                value: Number(ingredient.id) // Ensure it's a number\n                ,\n                checked: newItem.ingredientIds.includes(Number(ingredient.id)),\n                onChange: () => handleNewItemIngredientChange(Number(ingredient.id)),\n                className: \"mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 19\n              }, this), ingredient.name]\n            }, `ingredient-${ingredient.id}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"info\",\n            children: \"Picture\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            onChange: e => handleNewItemChange(\"picture\", e.target.files[0]),\n            className: \"w-full mt-1 p-2 border rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-6 py-2 mt-2 bg-blue-500 text-white rounded hover:bg-blue-700\",\n          type: \"submit\",\n          children: \"Create Item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center text-primary text-4xl mb-4\",\n        children: \"Existing Items:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n        children: items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-4 rounded shadow-md flex flex-col\",\n          children: [item.success && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-600 mb-2\",\n            children: \"Updated successfully\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col gap-2 flex-grow\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"font-semibold\",\n                children: \"Item Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: item.editedName,\n                onChange: e => handleItemChange(item.id, \"editedName\", e.target.value),\n                className: \"w-full mt-1 p-2 border rounded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"font-semibold\",\n                children: \"Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.01\",\n                value: item.editedPrice,\n                onChange: e => handleItemChange(item.id, \"editedPrice\", e.target.value),\n                className: \"w-full mt-1 p-2 border rounded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"font-semibold\",\n                children: \"Category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: item.editedCategoryId,\n                onChange: e => handleItemChange(item.id, \"editedCategoryId\", Number(e.target.value) // Ensure it's a number\n                ),\n                className: \"w-full mt-1 p-2 border rounded\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select Category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 517,\n                  columnNumber: 21\n                }, this), categories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: Number(category.id),\n                  children: category.name\n                }, `item-category-${category.id}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 519,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"font-semibold\",\n                children: \"Ingredients\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-2 mt-1\",\n                children: ingredients.map(ingredient => /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    value: Number(ingredient.id) // Ensure it's a number\n                    ,\n                    checked: item.editedIngredientIds.includes(Number(ingredient.id)),\n                    onChange: e => handleItemIngredientChange(item.id, e),\n                    className: \"mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 536,\n                    columnNumber: 25\n                  }, this), ingredient.name]\n                }, `item-${item.id}-ingredient-${ingredient.id}`, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 532,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 528,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"font-semibold\",\n                children: \"Picture\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 553,\n                columnNumber: 19\n              }, this), item.pictureUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.pictureUrl,\n                alt: item.name,\n                className: \"w-full h-auto mt-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 555,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                accept: \"image/*\",\n                onChange: e => handleItemChange(item.id, \"editedPicture\", e.target.files[0]),\n                className: \"w-full mt-1 p-2 border rounded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\" // Prevent form submission\n              ,\n              className: \"px-4 py-2 bg-gray-300 text-white rounded hover:bg-gray-600\",\n              onClick: () => handleUpdateItem(item.id),\n              children: \"Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\" // Prevent form submission\n              ,\n              className: \"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-700\",\n              onClick: () => handleDeleteItem(item.id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 575,\n            columnNumber: 15\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 336,\n    columnNumber: 5\n  }, this);\n}\n_s(Items, \"SwbyYZdwauQBKLCbCHNIiEA6Cuo=\", false, function () {\n  return [useLocation];\n});\n_c = Items;\nvar _c;\n$RefreshReg$(_c, \"Items\");","map":{"version":3,"names":["React","useEffect","useState","api","monitorToken","Link","useLocation","jsxDEV","_jsxDEV","Items","_s","profile","setProfile","items","setItems","newItem","setNewItem","name","price","categoryId","ingredientIds","picture","categories","setCategories","ingredients","setIngredients","location","fetchData","data","profileData","get","headers","Authorization","localStorage","getItem","itemsData","itemsWithExtras","map","item","editedName","editedPrice","editedCategoryId","editedIngredientIds","Array","isArray","id","Number","pictureUrl","editedPicture","success","console","log","categoriesData","ingredientsData","error","handleNewItemChange","field","value","prevItem","handleNewItemIngredientChange","ingredientId","includes","filter","handleCreateItem","e","preventDefault","trim","alert","isNaN","formData","FormData","append","forEach","post","response","detail","JSON","stringify","message","handleItemChange","itemId","prevItems","handleItemIngredientChange","event","target","isChecked","checked","updatedIngredientIds","handleUpdateItem","find","put","itm","Date","getTime","setTimeout","handleDeleteItem","window","confirm","delete","children","fileName","_jsxFileName","lineNumber","columnNumber","className","role","pathname","to","onSubmit","type","onChange","step","category","ingredient","accept","files","src","alt","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Domas/Desktop/5 semestras/Brewtiful/frontend/src/pages/Items.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport api from \"../axiosInstance\";\r\nimport monitorToken from \"./monitorToken\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\n\r\nexport default function Items() {\r\n  const [profile, setProfile] = useState(null);\r\n  const [items, setItems] = useState([]);\r\n  const [newItem, setNewItem] = useState({\r\n    name: \"\",\r\n    price: \"\",\r\n    categoryId: \"\",\r\n    ingredientIds: [],\r\n    picture: null, // For picture upload\r\n  });\r\n  const [categories, setCategories] = useState([]);\r\n  const [ingredients, setIngredients] = useState([]);\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    monitorToken();\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        // Fetch user profile\r\n        const { data: profileData } = await api.get(\"/auth/profile\", {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        });\r\n        setProfile(profileData);\r\n\r\n        // Fetch items and initialize edited fields and success state\r\n        const { data: itemsData } = await api.get(\"/Item\", {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        });\r\n        const itemsWithExtras = itemsData.map((item) => ({\r\n          ...item,\r\n          editedName: item.name,\r\n          editedPrice: item.price,\r\n          editedCategoryId: item.categoryId,\r\n          editedIngredientIds: Array.isArray(item.ingredientIds)\r\n            ? item.ingredientIds.map((id) => Number(id))\r\n            : [],\r\n          pictureUrl: item.pictureUrl || \"\",\r\n          editedPicture: null,\r\n          success: false,\r\n        }));\r\n        console.log(\"Initialized Items with Extras:\", itemsWithExtras); // Debugging\r\n        setItems(itemsWithExtras);\r\n\r\n        // Fetch categories\r\n        const { data: categoriesData } = await api.get(\"/Category\", {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        });\r\n        setCategories(categoriesData);\r\n\r\n        // Fetch ingredients\r\n        const { data: ingredientsData } = await api.get(\"/Ingredient\", {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        });\r\n        setIngredients(ingredientsData);\r\n      } catch (error) {\r\n        console.error(\"Error fetching data:\", error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  // Handle changes to new item fields\r\n  const handleNewItemChange = (field, value) => {\r\n    setNewItem((prevItem) => ({\r\n      ...prevItem,\r\n      [field]: value,\r\n    }));\r\n  };\r\n\r\n  // Handle adding/removing ingredients for new item\r\n  const handleNewItemIngredientChange = (ingredientId) => {\r\n    setNewItem((prevItem) => {\r\n      const ingredientIds = prevItem.ingredientIds.includes(ingredientId)\r\n        ? prevItem.ingredientIds.filter((id) => id !== ingredientId)\r\n        : [...prevItem.ingredientIds, ingredientId];\r\n      return { ...prevItem, ingredientIds };\r\n    });\r\n  };\r\n\r\n  // Handle creating a new item\r\n  const handleCreateItem = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // Validate new item fields\r\n    if (!newItem.name.trim()) {\r\n      alert(\"Please enter an item name.\");\r\n      return;\r\n    }\r\n    if (!newItem.price || isNaN(newItem.price) || Number(newItem.price) <= 0) {\r\n      alert(\"Please enter a valid price.\");\r\n      return;\r\n    }\r\n    if (!newItem.categoryId) {\r\n      alert(\"Please select a category.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"name\", newItem.name);\r\n      formData.append(\"price\", newItem.price);\r\n      formData.append(\"categoryId\", newItem.categoryId);\r\n      newItem.ingredientIds.forEach((id) =>\r\n        formData.append(\"ingredientIds\", id)\r\n      );\r\n      if (newItem.picture) {\r\n        formData.append(\"picture\", newItem.picture);\r\n      }\r\n\r\n      // Send POST request to create item\r\n      await api.post(\"/Item\", formData, {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          // \"Content-Type\" is handled automatically by the browser\r\n        },\r\n      });\r\n\r\n      // Fetch updated items list and initialize edited fields and success state\r\n      const { data: itemsData } = await api.get(\"/Item\", {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n      });\r\n      const itemsWithExtras = itemsData.map((item) => ({\r\n        ...item,\r\n        editedName: item.name,\r\n        editedPrice: item.price,\r\n        editedCategoryId: item.categoryId,\r\n        editedIngredientIds: Array.isArray(item.ingredientIds)\r\n          ? item.ingredientIds.map((id) => Number(id))\r\n          : [],\r\n        pictureUrl: item.pictureUrl || \"\",\r\n        editedPicture: null,\r\n        success: false,\r\n      }));\r\n      console.log(\"Fetched Updated Items:\", itemsWithExtras); // Debugging\r\n      setItems(itemsWithExtras);\r\n\r\n      // Clear new item fields\r\n      setNewItem({\r\n        name: \"\",\r\n        price: \"\",\r\n        categoryId: \"\",\r\n        ingredientIds: [],\r\n        picture: null,\r\n      });\r\n\r\n      alert(\"Item created successfully.\");\r\n    } catch (error) {\r\n      console.error(\"Error creating item:\", error);\r\n      if (error.response && error.response.data && error.response.data.detail) {\r\n        alert(`Error: ${error.response.data.detail}`);\r\n      } else if (error.response && error.response.data) {\r\n        alert(`Error: ${JSON.stringify(error.response.data)}`);\r\n      } else if (error.message) {\r\n        alert(`Error: ${error.message}`);\r\n      } else {\r\n        alert(\"An unexpected error occurred while creating the item.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  // Handle changes to existing items\r\n  const handleItemChange = (itemId, field, value) => {\r\n    setItems((prevItems) =>\r\n      prevItems.map((item) =>\r\n        item.id === itemId ? { ...item, [field]: value } : item\r\n      )\r\n    );\r\n  };\r\n\r\n  // Handle adding/removing ingredients for existing items\r\n  const handleItemIngredientChange = (itemId, event) => {\r\n    const ingredientId = Number(event.target.value);\r\n    const isChecked = event.target.checked;\r\n\r\n    setItems((prevItems) =>\r\n      prevItems.map((item) => {\r\n        if (item.id === itemId) {\r\n          let updatedIngredientIds;\r\n          if (isChecked) {\r\n            // Add ingredient if not already present\r\n            if (!item.editedIngredientIds.includes(ingredientId)) {\r\n              updatedIngredientIds = [\r\n                ...item.editedIngredientIds,\r\n                ingredientId,\r\n              ];\r\n            } else {\r\n              updatedIngredientIds = item.editedIngredientIds;\r\n            }\r\n          } else {\r\n            // Remove ingredient if present\r\n            updatedIngredientIds = item.editedIngredientIds.filter(\r\n              (id) => id !== ingredientId\r\n            );\r\n          }\r\n\r\n          console.log(\r\n            `Updated ingredient IDs for item ${itemId}:`,\r\n            updatedIngredientIds\r\n          ); // Debugging\r\n\r\n          return { ...item, editedIngredientIds: updatedIngredientIds };\r\n        }\r\n        return item;\r\n      })\r\n    );\r\n  };\r\n\r\n  // Handle updating an existing item\r\n  const handleUpdateItem = async (id) => {\r\n    const item = items.find((item) => item.id === id);\r\n\r\n    if (!item) {\r\n      alert(\"Item not found.\");\r\n      return;\r\n    }\r\n\r\n    // Validate item fields\r\n    if (!item.editedName.trim()) {\r\n      alert(\"Item name cannot be empty.\");\r\n      return;\r\n    }\r\n    if (\r\n      !item.editedPrice ||\r\n      isNaN(item.editedPrice) ||\r\n      Number(item.editedPrice) <= 0\r\n    ) {\r\n      alert(\"Please enter a valid price.\");\r\n      return;\r\n    }\r\n    if (!item.editedCategoryId) {\r\n      alert(\"Please select a category.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"name\", item.editedName);\r\n      formData.append(\"price\", item.editedPrice);\r\n      formData.append(\"categoryId\", item.editedCategoryId);\r\n      item.editedIngredientIds.forEach((id) =>\r\n        formData.append(\"ingredientIds\", id)\r\n      );\r\n      if (item.editedPicture) {\r\n        formData.append(\"picture\", item.editedPicture);\r\n      }\r\n\r\n      // Send PUT request to update item\r\n      await api.put(`/Item/${id}`, formData, {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          // \"Content-Type\" is handled automatically by the browser\r\n        },\r\n      });\r\n\r\n      // Update the item in the state and set success to true\r\n      setItems((prevItems) =>\r\n        prevItems.map((itm) =>\r\n          itm.id === id\r\n            ? {\r\n                ...itm,\r\n                name: itm.editedName,\r\n                price: itm.editedPrice,\r\n                categoryId: itm.editedCategoryId,\r\n                ingredientIds: itm.editedIngredientIds,\r\n                pictureUrl: itm.editedPicture\r\n                  ? `${itm.pictureUrl}?timestamp=${new Date().getTime()}`\r\n                  : itm.pictureUrl,\r\n                editedPicture: null,\r\n                success: true,\r\n              }\r\n            : itm\r\n        )\r\n      );\r\n\r\n      // Clear the success message after 3 seconds\r\n      setTimeout(() => {\r\n        setItems((prevItems) =>\r\n          prevItems.map((itm) =>\r\n            itm.id === id ? { ...itm, success: false } : itm\r\n          )\r\n        );\r\n      }, 3000);\r\n    } catch (error) {\r\n      console.error(\"Error updating item:\", error);\r\n      if (error.response && error.response.data && error.response.data.detail) {\r\n        alert(`Error: ${error.response.data.detail}`);\r\n      } else if (error.response && error.response.data) {\r\n        alert(`Error: ${JSON.stringify(error.response.data)}`);\r\n      } else if (error.message) {\r\n        alert(`Error: ${error.message}`);\r\n      } else {\r\n        alert(\"An unexpected error occurred while updating the item.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  // Handle deleting an item\r\n  const handleDeleteItem = async (id) => {\r\n    if (!window.confirm(\"Are you sure you want to delete this item?\")) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await api.delete(`/Item/${id}`, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n      });\r\n\r\n      // Remove the deleted item from the state\r\n      setItems((prevItems) => prevItems.filter((item) => item.id !== id));\r\n\r\n      alert(\"Item deleted successfully.\");\r\n    } catch (error) {\r\n      console.error(\"Error deleting item:\", error);\r\n      if (error.response && error.response.data && error.response.data.detail) {\r\n        alert(`Error: ${error.response.data.detail}`);\r\n      } else if (error.response && error.response.data) {\r\n        alert(`Error: ${JSON.stringify(error.response.data)}`);\r\n      } else if (error.message) {\r\n        alert(`Error: ${error.message}`);\r\n      } else {\r\n        alert(\"An unexpected error occurred while deleting the item.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  if (!profile) return <div>Loading...</div>;\r\n\r\n  return (\r\n    <section className=\"mt-8 max-w-7xl mx-auto\">\r\n      {profile.role === \"Admin\" && (\r\n        <div className=\"flex mx-auto items-center justify-center gap-2 my-4 tabs\">\r\n          <Link\r\n            className={location.pathname === \"/profile\" ? \"active\" : \"\"}\r\n            to=\"/profile\"\r\n          >\r\n            Profile\r\n          </Link>\r\n          <Link\r\n            className={location.pathname === \"/categories\" ? \"active\" : \"\"}\r\n            to=\"/categories\"\r\n          >\r\n            Categories\r\n          </Link>\r\n          <Link\r\n            className={location.pathname === \"/items\" ? \"active\" : \"\"}\r\n            to=\"/items\"\r\n          >\r\n            Items\r\n          </Link>\r\n          <Link\r\n            className={location.pathname === \"/ingredients\" ? \"active\" : \"\"}\r\n            to=\"/ingredients\"\r\n          >\r\n            Ingredients\r\n          </Link>\r\n          <Link\r\n            className={location.pathname === \"/users\" ? \"active\" : \"\"}\r\n            to=\"/users\"\r\n          >\r\n            Users\r\n          </Link>\r\n        </div>\r\n      )}\r\n\r\n      {/* Item Creation Form */}\r\n      <form\r\n        className=\"mt-8 w-1/2 mx-auto new-item-form\"\r\n        onSubmit={handleCreateItem}\r\n      >\r\n        <h2 className=\"text-center text-primary text-4xl mb-4\">\r\n          Create New Item\r\n        </h2>\r\n        <div className=\"flex flex-col gap-2\">\r\n          <div>\r\n            <label className=\"info\">Item Name</label>\r\n            <input\r\n              type=\"text\"\r\n              value={newItem.name}\r\n              onChange={(e) => handleNewItemChange(\"name\", e.target.value)}\r\n              className=\"w-full mt-1 p-2 border rounded\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"info\">Price</label>\r\n            <br />\r\n            <input\r\n              type=\"number\"\r\n              step=\"0.01\"\r\n              value={newItem.price}\r\n              onChange={(e) => handleNewItemChange(\"price\", e.target.value)}\r\n              className=\"w-full mt-1 p-2 border rounded\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"info\">Category</label>\r\n            <br />\r\n            <select\r\n              value={newItem.categoryId}\r\n              onChange={\r\n                (e) => handleNewItemChange(\"categoryId\", Number(e.target.value)) // Ensure it's a number\r\n              }\r\n              className=\"w-full mt-1 p-2 border rounded\"\r\n            >\r\n              <option value=\"\">Select Category</option>\r\n              {categories.map((category) => (\r\n                <option key={category.id} value={Number(category.id)}>\r\n                  {category.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label className=\"info\">Ingredients</label>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {ingredients.map((ingredient) => (\r\n                <label\r\n                  key={`ingredient-${ingredient.id}`}\r\n                  className=\"flex items-center\"\r\n                >\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    value={Number(ingredient.id)} // Ensure it's a number\r\n                    checked={newItem.ingredientIds.includes(\r\n                      Number(ingredient.id)\r\n                    )}\r\n                    onChange={() =>\r\n                      handleNewItemIngredientChange(Number(ingredient.id))\r\n                    }\r\n                    className=\"mr-1\"\r\n                  />\r\n                  {ingredient.name}\r\n                </label>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <label className=\"info\">Picture</label>\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              onChange={(e) =>\r\n                handleNewItemChange(\"picture\", e.target.files[0])\r\n              }\r\n              className=\"w-full mt-1 p-2 border rounded\"\r\n            />\r\n          </div>\r\n          <button\r\n            className=\"px-6 py-2 mt-2 bg-blue-500 text-white rounded hover:bg-blue-700\"\r\n            type=\"submit\"\r\n          >\r\n            Create Item\r\n          </button>\r\n        </div>\r\n      </form>\r\n\r\n      {/* Existing Items Grid */}\r\n      <div className=\"mt-8\">\r\n        <h2 className=\"text-center text-primary text-4xl mb-4\">\r\n          Existing Items:\r\n        </h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {items.map((item) => (\r\n            <div\r\n              key={item.id}\r\n              className=\"bg-white p-4 rounded shadow-md flex flex-col\"\r\n            >\r\n              {/* Success Message */}\r\n              {item.success && (\r\n                <span className=\"text-green-600 mb-2\">\r\n                  Updated successfully\r\n                </span>\r\n              )}\r\n              <div className=\"flex flex-col gap-2 flex-grow\">\r\n                <div>\r\n                  <label className=\"font-semibold\">Item Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={item.editedName}\r\n                    onChange={(e) =>\r\n                      handleItemChange(item.id, \"editedName\", e.target.value)\r\n                    }\r\n                    className=\"w-full mt-1 p-2 border rounded\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"font-semibold\">Price</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    step=\"0.01\"\r\n                    value={item.editedPrice}\r\n                    onChange={(e) =>\r\n                      handleItemChange(item.id, \"editedPrice\", e.target.value)\r\n                    }\r\n                    className=\"w-full mt-1 p-2 border rounded\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"font-semibold\">Category</label>\r\n                  <select\r\n                    value={item.editedCategoryId}\r\n                    onChange={(e) =>\r\n                      handleItemChange(\r\n                        item.id,\r\n                        \"editedCategoryId\",\r\n                        Number(e.target.value) // Ensure it's a number\r\n                      )\r\n                    }\r\n                    className=\"w-full mt-1 p-2 border rounded\"\r\n                  >\r\n                    <option value=\"\">Select Category</option>\r\n                    {categories.map((category) => (\r\n                      <option\r\n                        key={`item-category-${category.id}`}\r\n                        value={Number(category.id)}\r\n                      >\r\n                        {category.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div>\r\n                  <label className=\"font-semibold\">Ingredients</label>\r\n                  <div className=\"flex flex-wrap gap-2 mt-1\">\r\n                    {ingredients.map((ingredient) => (\r\n                      <label\r\n                        key={`item-${item.id}-ingredient-${ingredient.id}`}\r\n                        className=\"flex items-center\"\r\n                      >\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          value={Number(ingredient.id)} // Ensure it's a number\r\n                          checked={item.editedIngredientIds.includes(\r\n                            Number(ingredient.id)\r\n                          )}\r\n                          onChange={(e) =>\r\n                            handleItemIngredientChange(item.id, e)\r\n                          }\r\n                          className=\"mr-1\"\r\n                        />\r\n                        {ingredient.name}\r\n                      </label>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <label className=\"font-semibold\">Picture</label>\r\n                  {item.pictureUrl && (\r\n                    <img\r\n                      src={item.pictureUrl}\r\n                      alt={item.name}\r\n                      className=\"w-full h-auto mt-2\"\r\n                    />\r\n                  )}\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    onChange={(e) =>\r\n                      handleItemChange(\r\n                        item.id,\r\n                        \"editedPicture\",\r\n                        e.target.files[0]\r\n                      )\r\n                    }\r\n                    className=\"w-full mt-1 p-2 border rounded\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"flex justify-between mt-4\">\r\n                <button\r\n                  type=\"button\" // Prevent form submission\r\n                  className=\"px-4 py-2 bg-gray-300 text-white rounded hover:bg-gray-600\"\r\n                  onClick={() => handleUpdateItem(item.id)}\r\n                >\r\n                  Update\r\n                </button>\r\n                <button\r\n                  type=\"button\" // Prevent form submission\r\n                  className=\"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-700\"\r\n                  onClick={() => handleDeleteItem(item.id)}\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}