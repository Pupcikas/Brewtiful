{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Domas\\\\Desktop\\\\5 semestras\\\\Brewtiful\\\\frontend\\\\src\\\\pages\\\\Ingredients.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport api from \"../axiosInstance\";\nimport monitorToken from \"./monitorToken\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Ingredients() {\n  _s();\n  const [profile, setProfile] = useState(null);\n  const [ingredients, setIngredients] = useState([]);\n  const [newIngredient, setNewIngredient] = useState({\n    name: \"\",\n    defaultQuantity: \"\",\n    extraCost: \"\"\n  });\n  const location = useLocation();\n  useEffect(() => {\n    monitorToken();\n    const fetchData = async () => {\n      try {\n        // Fetch user profile\n        const {\n          data: profileData\n        } = await api.get(\"/auth/profile\", {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        });\n        setProfile(profileData);\n\n        // Fetch ingredients and initialize edited fields and success state\n        const {\n          data: ingredientsData\n        } = await api.get(\"/Ingredient\", {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        });\n        const ingredientsWithExtras = ingredientsData.map(ingredient => ({\n          ...ingredient,\n          editedName: ingredient.name,\n          editedDefaultQuantity: ingredient.defaultQuantity,\n          editedExtraCost: ingredient.extraCost,\n          success: false\n        }));\n        setIngredients(ingredientsWithExtras);\n      } catch (error) {\n        console.error(\"Error fetching data:\", error);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // Handle changes to new ingredient fields\n  const handleNewIngredientChange = (field, value) => {\n    setNewIngredient(prevIngredient => ({\n      ...prevIngredient,\n      [field]: value\n    }));\n  };\n\n  // Handle creating a new ingredient\n  const handleCreateIngredient = async e => {\n    e.preventDefault();\n\n    // Validate new ingredient fields\n    if (!newIngredient.name.trim()) {\n      alert(\"Please enter an ingredient name.\");\n      return;\n    }\n    if (!newIngredient.defaultQuantity || isNaN(newIngredient.defaultQuantity) || Number(newIngredient.defaultQuantity) <= 0) {\n      alert(\"Please enter a valid default quantity.\");\n      return;\n    }\n    if (newIngredient.extraCost === \"\" || isNaN(newIngredient.extraCost) || Number(newIngredient.extraCost) < 0) {\n      alert(\"Please enter a valid extra cost.\");\n      return;\n    }\n    try {\n      // Send POST request to create ingredient\n      await api.post(\"/Ingredient\", {\n        name: newIngredient.name,\n        defaultQuantity: Number(newIngredient.defaultQuantity),\n        extraCost: Number(newIngredient.extraCost)\n      }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n\n      // Fetch updated ingredients list\n      const {\n        data: ingredientsData\n      } = await api.get(\"/Ingredient\", {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      const ingredientsWithExtras = ingredientsData.map(ingredient => ({\n        ...ingredient,\n        editedName: ingredient.name,\n        editedDefaultQuantity: ingredient.defaultQuantity,\n        editedExtraCost: ingredient.extraCost,\n        success: false\n      }));\n      setIngredients(ingredientsWithExtras);\n\n      // Clear new ingredient fields\n      setNewIngredient({\n        name: \"\",\n        defaultQuantity: \"\",\n        extraCost: \"\"\n      });\n      alert(\"Ingredient created successfully.\");\n    } catch (error) {\n      console.error(\"Error creating ingredient:\", error);\n      if (error.response && error.response.data && error.response.data.detail) {\n        alert(`Error: ${error.response.data.detail}`);\n      } else if (error.response && error.response.data) {\n        alert(`Error: ${JSON.stringify(error.response.data)}`);\n      } else if (error.message) {\n        alert(`Error: ${error.message}`);\n      } else {\n        alert(\"An unexpected error occurred while creating the ingredient.\");\n      }\n    }\n  };\n\n  // Handle changes to existing ingredients\n  const handleIngredientChange = (index, field, value) => {\n    setIngredients(prevIngredients => {\n      const updatedIngredients = [...prevIngredients];\n      updatedIngredients[index][field] = value;\n      return updatedIngredients;\n    });\n  };\n\n  // Handle updating an existing ingredient\n  const handleUpdateIngredient = async (id, index) => {\n    const ingredient = ingredients[index];\n\n    // Validate ingredient fields\n    if (!ingredient.editedName.trim()) {\n      alert(\"Ingredient name cannot be empty.\");\n      return;\n    }\n    if (!ingredient.editedDefaultQuantity || isNaN(ingredient.editedDefaultQuantity) || Number(ingredient.editedDefaultQuantity) <= 0) {\n      alert(\"Please enter a valid default quantity.\");\n      return;\n    }\n    if (ingredient.editedExtraCost === \"\" || isNaN(ingredient.editedExtraCost) || Number(ingredient.editedExtraCost) < 0) {\n      alert(\"Please enter a valid extra cost.\");\n      return;\n    }\n    try {\n      // Send PUT request to update ingredient\n      await api.put(`/Ingredient/${id}`, {\n        name: ingredient.editedName,\n        defaultQuantity: Number(ingredient.editedDefaultQuantity),\n        extraCost: Number(ingredient.editedExtraCost)\n      }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n\n      // Update the ingredient in the state and set success to true\n      setIngredients(prevIngredients => {\n        const updatedIngredients = [...prevIngredients];\n        updatedIngredients[index].name = ingredient.editedName;\n        updatedIngredients[index].defaultQuantity = ingredient.editedDefaultQuantity;\n        updatedIngredients[index].extraCost = ingredient.editedExtraCost;\n        updatedIngredients[index].success = true;\n        return updatedIngredients;\n      });\n\n      // Clear the success message after 3 seconds\n      setTimeout(() => {\n        setIngredients(prevIngredients => {\n          const updatedIngredients = [...prevIngredients];\n          if (updatedIngredients[index]) {\n            updatedIngredients[index].success = false;\n          }\n          return updatedIngredients;\n        });\n      }, 3000);\n    } catch (error) {\n      console.error(\"Error updating ingredient:\", error);\n      if (error.response && error.response.data && error.response.data.detail) {\n        alert(`Error: ${error.response.data.detail}`);\n      } else if (error.response && error.response.data) {\n        alert(`Error: ${JSON.stringify(error.response.data)}`);\n      } else if (error.message) {\n        alert(`Error: ${error.message}`);\n      } else {\n        alert(\"An unexpected error occurred while updating the ingredient.\");\n      }\n    }\n  };\n\n  // Handle deleting an ingredient\n  const handleDeleteIngredient = async id => {\n    if (!window.confirm(\"Are you sure you want to delete this ingredient?\")) {\n      return;\n    }\n    try {\n      await api.delete(`/Ingredient/${id}`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n\n      // Remove the deleted ingredient from the state\n      setIngredients(prevIngredients => prevIngredients.filter(ingredient => ingredient.id !== id));\n      alert(\"Ingredient deleted successfully.\");\n    } catch (error) {\n      console.error(\"Error deleting ingredient:\", error);\n      if (error.response && error.response.data && error.response.data.detail) {\n        alert(`Error: ${error.response.data.detail}`);\n      } else if (error.response && error.response.data) {\n        alert(`Error: ${JSON.stringify(error.response.data)}`);\n      } else if (error.message) {\n        alert(`Error: ${error.message}`);\n      } else {\n        alert(\"An unexpected error occurred while deleting the ingredient.\");\n      }\n    }\n  };\n  if (!profile) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 245,\n    columnNumber: 24\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"mt-8 max-w-7xl mx-auto\",\n    children: [profile.role === \"Admin\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex mx-auto items-center justify-center gap-2 my-4 tabs\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        className: location.pathname === \"/profile\" ? \"active\" : \"\",\n        to: \"/profile\",\n        children: \"Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: location.pathname === \"/categories\" ? \"active\" : \"\",\n        to: \"/categories\",\n        children: \"Categories\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: location.pathname === \"/items\" ? \"active\" : \"\",\n        to: \"/items\",\n        children: \"Items\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: location.pathname === \"/ingredients\" ? \"active\" : \"\",\n        to: \"/ingredients\",\n        children: \"Ingredients\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: location.pathname === \"/users\" ? \"active\" : \"\",\n        to: \"/users\",\n        children: \"Users\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"mt-8 w-1/2 mx-auto\",\n      onSubmit: handleCreateIngredient,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center text-primary text-4xl mb-4\",\n        children: \"Create New Ingredient\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"info\",\n            children: \"Ingredient Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: newIngredient.name,\n            onChange: e => handleNewIngredientChange(\"name\", e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"info\",\n            children: \"Default Quantity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: newIngredient.defaultQuantity,\n            onChange: e => handleNewIngredientChange(\"defaultQuantity\", e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"info\",\n            children: \"Extra Cost\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            step: \"0.01\",\n            value: newIngredient.extraCost,\n            onChange: e => handleNewIngredientChange(\"extraCost\", e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-6 py-2 mt-2\",\n          type: \"submit\",\n          children: \"Create Ingredient\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center text-primary text-4xl mb-4\",\n        children: \"Existing Ingredients:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n        children: ingredients.map((ingredient, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-4 rounded shadow-md flex flex-col\",\n          children: [ingredient.success && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-green-600 mb-2\",\n            children: \"Updated successfully\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col gap-2 flex-grow\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"font-semibold\",\n                children: \"Ingredient Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: ingredient.editedName,\n                onChange: e => handleIngredientChange(index, \"editedName\", e.target.value),\n                className: \"w-full mt-1 p-2 border rounded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"font-semibold\",\n                children: \"Default Quantity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: ingredient.editedDefaultQuantity,\n                onChange: e => handleIngredientChange(index, \"editedDefaultQuantity\", e.target.value),\n                className: \"w-full mt-1 p-2 border rounded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"font-semibold\",\n                children: \"Extra Cost\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.01\",\n                value: ingredient.editedExtraCost,\n                onChange: e => handleIngredientChange(index, \"editedExtraCost\", e.target.value),\n                className: \"w-full mt-1 p-2 border rounded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"px-4 py-2 bg-gray-300 text-white rounded hover:bg-gray-600\",\n              onClick: () => handleUpdateIngredient(ingredient.id, index),\n              children: \"Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-700\",\n              onClick: () => handleDeleteIngredient(ingredient.id),\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this)]\n        }, ingredient.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 248,\n    columnNumber: 5\n  }, this);\n}\n_s(Ingredients, \"pMM8qNXXwQu6uukJnvn9XFtE448=\", false, function () {\n  return [useLocation];\n});\n_c = Ingredients;\nvar _c;\n$RefreshReg$(_c, \"Ingredients\");","map":{"version":3,"names":["React","useEffect","useState","api","monitorToken","Link","useLocation","jsxDEV","_jsxDEV","Ingredients","_s","profile","setProfile","ingredients","setIngredients","newIngredient","setNewIngredient","name","defaultQuantity","extraCost","location","fetchData","data","profileData","get","headers","Authorization","localStorage","getItem","ingredientsData","ingredientsWithExtras","map","ingredient","editedName","editedDefaultQuantity","editedExtraCost","success","error","console","handleNewIngredientChange","field","value","prevIngredient","handleCreateIngredient","e","preventDefault","trim","alert","isNaN","Number","post","response","detail","JSON","stringify","message","handleIngredientChange","index","prevIngredients","updatedIngredients","handleUpdateIngredient","id","put","setTimeout","handleDeleteIngredient","window","confirm","delete","filter","children","fileName","_jsxFileName","lineNumber","columnNumber","className","role","pathname","to","onSubmit","type","onChange","target","step","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Domas/Desktop/5 semestras/Brewtiful/frontend/src/pages/Ingredients.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport api from \"../axiosInstance\";\r\nimport monitorToken from \"./monitorToken\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\n\r\nexport default function Ingredients() {\r\n  const [profile, setProfile] = useState(null);\r\n  const [ingredients, setIngredients] = useState([]);\r\n  const [newIngredient, setNewIngredient] = useState({\r\n    name: \"\",\r\n    defaultQuantity: \"\",\r\n    extraCost: \"\",\r\n  });\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    monitorToken();\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        // Fetch user profile\r\n        const { data: profileData } = await api.get(\"/auth/profile\", {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        });\r\n        setProfile(profileData);\r\n\r\n        // Fetch ingredients and initialize edited fields and success state\r\n        const { data: ingredientsData } = await api.get(\"/Ingredient\", {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        });\r\n        const ingredientsWithExtras = ingredientsData.map((ingredient) => ({\r\n          ...ingredient,\r\n          editedName: ingredient.name,\r\n          editedDefaultQuantity: ingredient.defaultQuantity,\r\n          editedExtraCost: ingredient.extraCost,\r\n          success: false,\r\n        }));\r\n        setIngredients(ingredientsWithExtras);\r\n      } catch (error) {\r\n        console.error(\"Error fetching data:\", error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  // Handle changes to new ingredient fields\r\n  const handleNewIngredientChange = (field, value) => {\r\n    setNewIngredient((prevIngredient) => ({\r\n      ...prevIngredient,\r\n      [field]: value,\r\n    }));\r\n  };\r\n\r\n  // Handle creating a new ingredient\r\n  const handleCreateIngredient = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // Validate new ingredient fields\r\n    if (!newIngredient.name.trim()) {\r\n      alert(\"Please enter an ingredient name.\");\r\n      return;\r\n    }\r\n    if (\r\n      !newIngredient.defaultQuantity ||\r\n      isNaN(newIngredient.defaultQuantity) ||\r\n      Number(newIngredient.defaultQuantity) <= 0\r\n    ) {\r\n      alert(\"Please enter a valid default quantity.\");\r\n      return;\r\n    }\r\n    if (\r\n      newIngredient.extraCost === \"\" ||\r\n      isNaN(newIngredient.extraCost) ||\r\n      Number(newIngredient.extraCost) < 0\r\n    ) {\r\n      alert(\"Please enter a valid extra cost.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Send POST request to create ingredient\r\n      await api.post(\r\n        \"/Ingredient\",\r\n        {\r\n          name: newIngredient.name,\r\n          defaultQuantity: Number(newIngredient.defaultQuantity),\r\n          extraCost: Number(newIngredient.extraCost),\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        }\r\n      );\r\n\r\n      // Fetch updated ingredients list\r\n      const { data: ingredientsData } = await api.get(\"/Ingredient\", {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n      });\r\n      const ingredientsWithExtras = ingredientsData.map((ingredient) => ({\r\n        ...ingredient,\r\n        editedName: ingredient.name,\r\n        editedDefaultQuantity: ingredient.defaultQuantity,\r\n        editedExtraCost: ingredient.extraCost,\r\n        success: false,\r\n      }));\r\n      setIngredients(ingredientsWithExtras);\r\n\r\n      // Clear new ingredient fields\r\n      setNewIngredient({\r\n        name: \"\",\r\n        defaultQuantity: \"\",\r\n        extraCost: \"\",\r\n      });\r\n\r\n      alert(\"Ingredient created successfully.\");\r\n    } catch (error) {\r\n      console.error(\"Error creating ingredient:\", error);\r\n      if (error.response && error.response.data && error.response.data.detail) {\r\n        alert(`Error: ${error.response.data.detail}`);\r\n      } else if (error.response && error.response.data) {\r\n        alert(`Error: ${JSON.stringify(error.response.data)}`);\r\n      } else if (error.message) {\r\n        alert(`Error: ${error.message}`);\r\n      } else {\r\n        alert(\"An unexpected error occurred while creating the ingredient.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  // Handle changes to existing ingredients\r\n  const handleIngredientChange = (index, field, value) => {\r\n    setIngredients((prevIngredients) => {\r\n      const updatedIngredients = [...prevIngredients];\r\n      updatedIngredients[index][field] = value;\r\n      return updatedIngredients;\r\n    });\r\n  };\r\n\r\n  // Handle updating an existing ingredient\r\n  const handleUpdateIngredient = async (id, index) => {\r\n    const ingredient = ingredients[index];\r\n\r\n    // Validate ingredient fields\r\n    if (!ingredient.editedName.trim()) {\r\n      alert(\"Ingredient name cannot be empty.\");\r\n      return;\r\n    }\r\n    if (\r\n      !ingredient.editedDefaultQuantity ||\r\n      isNaN(ingredient.editedDefaultQuantity) ||\r\n      Number(ingredient.editedDefaultQuantity) <= 0\r\n    ) {\r\n      alert(\"Please enter a valid default quantity.\");\r\n      return;\r\n    }\r\n    if (\r\n      ingredient.editedExtraCost === \"\" ||\r\n      isNaN(ingredient.editedExtraCost) ||\r\n      Number(ingredient.editedExtraCost) < 0\r\n    ) {\r\n      alert(\"Please enter a valid extra cost.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Send PUT request to update ingredient\r\n      await api.put(\r\n        `/Ingredient/${id}`,\r\n        {\r\n          name: ingredient.editedName,\r\n          defaultQuantity: Number(ingredient.editedDefaultQuantity),\r\n          extraCost: Number(ingredient.editedExtraCost),\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        }\r\n      );\r\n\r\n      // Update the ingredient in the state and set success to true\r\n      setIngredients((prevIngredients) => {\r\n        const updatedIngredients = [...prevIngredients];\r\n        updatedIngredients[index].name = ingredient.editedName;\r\n        updatedIngredients[index].defaultQuantity =\r\n          ingredient.editedDefaultQuantity;\r\n        updatedIngredients[index].extraCost = ingredient.editedExtraCost;\r\n        updatedIngredients[index].success = true;\r\n        return updatedIngredients;\r\n      });\r\n\r\n      // Clear the success message after 3 seconds\r\n      setTimeout(() => {\r\n        setIngredients((prevIngredients) => {\r\n          const updatedIngredients = [...prevIngredients];\r\n          if (updatedIngredients[index]) {\r\n            updatedIngredients[index].success = false;\r\n          }\r\n          return updatedIngredients;\r\n        });\r\n      }, 3000);\r\n    } catch (error) {\r\n      console.error(\"Error updating ingredient:\", error);\r\n      if (error.response && error.response.data && error.response.data.detail) {\r\n        alert(`Error: ${error.response.data.detail}`);\r\n      } else if (error.response && error.response.data) {\r\n        alert(`Error: ${JSON.stringify(error.response.data)}`);\r\n      } else if (error.message) {\r\n        alert(`Error: ${error.message}`);\r\n      } else {\r\n        alert(\"An unexpected error occurred while updating the ingredient.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  // Handle deleting an ingredient\r\n  const handleDeleteIngredient = async (id) => {\r\n    if (!window.confirm(\"Are you sure you want to delete this ingredient?\")) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await api.delete(`/Ingredient/${id}`, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n      });\r\n\r\n      // Remove the deleted ingredient from the state\r\n      setIngredients((prevIngredients) =>\r\n        prevIngredients.filter((ingredient) => ingredient.id !== id)\r\n      );\r\n\r\n      alert(\"Ingredient deleted successfully.\");\r\n    } catch (error) {\r\n      console.error(\"Error deleting ingredient:\", error);\r\n      if (error.response && error.response.data && error.response.data.detail) {\r\n        alert(`Error: ${error.response.data.detail}`);\r\n      } else if (error.response && error.response.data) {\r\n        alert(`Error: ${JSON.stringify(error.response.data)}`);\r\n      } else if (error.message) {\r\n        alert(`Error: ${error.message}`);\r\n      } else {\r\n        alert(\"An unexpected error occurred while deleting the ingredient.\");\r\n      }\r\n    }\r\n  };\r\n\r\n  if (!profile) return <div>Loading...</div>;\r\n\r\n  return (\r\n    <section className=\"mt-8 max-w-7xl mx-auto\">\r\n      {profile.role === \"Admin\" && (\r\n        <div className=\"flex mx-auto items-center justify-center gap-2 my-4 tabs\">\r\n          <Link\r\n            className={location.pathname === \"/profile\" ? \"active\" : \"\"}\r\n            to=\"/profile\"\r\n          >\r\n            Profile\r\n          </Link>\r\n          <Link\r\n            className={location.pathname === \"/categories\" ? \"active\" : \"\"}\r\n            to=\"/categories\"\r\n          >\r\n            Categories\r\n          </Link>\r\n          <Link\r\n            className={location.pathname === \"/items\" ? \"active\" : \"\"}\r\n            to=\"/items\"\r\n          >\r\n            Items\r\n          </Link>\r\n          <Link\r\n            className={location.pathname === \"/ingredients\" ? \"active\" : \"\"}\r\n            to=\"/ingredients\"\r\n          >\r\n            Ingredients\r\n          </Link>\r\n          <Link\r\n            className={location.pathname === \"/users\" ? \"active\" : \"\"}\r\n            to=\"/users\"\r\n          >\r\n            Users\r\n          </Link>\r\n        </div>\r\n      )}\r\n\r\n      {/* Ingredient Creation Form */}\r\n      <form className=\"mt-8 w-1/2 mx-auto\" onSubmit={handleCreateIngredient}>\r\n        <h2 className=\"text-center text-primary text-4xl mb-4\">\r\n          Create New Ingredient\r\n        </h2>\r\n        <div className=\"flex flex-col gap-2\">\r\n          <div>\r\n            <label className=\"info\">Ingredient Name</label>\r\n            <input\r\n              type=\"text\"\r\n              value={newIngredient.name}\r\n              onChange={(e) =>\r\n                handleNewIngredientChange(\"name\", e.target.value)\r\n              }\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"info\">Default Quantity</label>\r\n            <br />\r\n            <input\r\n              type=\"number\"\r\n              value={newIngredient.defaultQuantity}\r\n              onChange={(e) =>\r\n                handleNewIngredientChange(\"defaultQuantity\", e.target.value)\r\n              }\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"info\">Extra Cost</label>\r\n            <br />\r\n            <input\r\n              type=\"number\"\r\n              step=\"0.01\"\r\n              value={newIngredient.extraCost}\r\n              onChange={(e) =>\r\n                handleNewIngredientChange(\"extraCost\", e.target.value)\r\n              }\r\n            />\r\n          </div>\r\n          <button className=\"px-6 py-2 mt-2\" type=\"submit\">\r\n            Create Ingredient\r\n          </button>\r\n        </div>\r\n      </form>\r\n\r\n      {/* Existing Ingredients Grid */}\r\n      <div className=\"mt-8\">\r\n        <h2 className=\"text-center text-primary text-4xl mb-4\">\r\n          Existing Ingredients:\r\n        </h2>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {ingredients.map((ingredient, index) => (\r\n            <div\r\n              key={ingredient.id}\r\n              className=\"bg-white p-4 rounded shadow-md flex flex-col\"\r\n            >\r\n              {/* Success Message */}\r\n              {ingredient.success && (\r\n                <span className=\"text-green-600 mb-2\">\r\n                  Updated successfully\r\n                </span>\r\n              )}\r\n              <div className=\"flex flex-col gap-2 flex-grow\">\r\n                <div>\r\n                  <label className=\"font-semibold\">Ingredient Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={ingredient.editedName}\r\n                    onChange={(e) =>\r\n                      handleIngredientChange(\r\n                        index,\r\n                        \"editedName\",\r\n                        e.target.value\r\n                      )\r\n                    }\r\n                    className=\"w-full mt-1 p-2 border rounded\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"font-semibold\">Default Quantity</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={ingredient.editedDefaultQuantity}\r\n                    onChange={(e) =>\r\n                      handleIngredientChange(\r\n                        index,\r\n                        \"editedDefaultQuantity\",\r\n                        e.target.value\r\n                      )\r\n                    }\r\n                    className=\"w-full mt-1 p-2 border rounded\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"font-semibold\">Extra Cost</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    step=\"0.01\"\r\n                    value={ingredient.editedExtraCost}\r\n                    onChange={(e) =>\r\n                      handleIngredientChange(\r\n                        index,\r\n                        \"editedExtraCost\",\r\n                        e.target.value\r\n                      )\r\n                    }\r\n                    className=\"w-full mt-1 p-2 border rounded\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"flex justify-between mt-4\">\r\n                <button\r\n                  className=\"px-4 py-2 bg-gray-300 text-white rounded hover:bg-gray-600\"\r\n                  onClick={() => handleUpdateIngredient(ingredient.id, index)}\r\n                >\r\n                  Update\r\n                </button>\r\n                <button\r\n                  className=\"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-700\"\r\n                  onClick={() => handleDeleteIngredient(ingredient.id)}\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}